import{ah as x,ai as D,aj as E,ak as k,al as C,a as N,a8 as A,a6 as b,r as v,j as s,am as F}from"./index-b009c0ac.js";import{D as T}from"./DoubleSidedImage-eb3e49ea.js";import{i as m,t as i,N as c}from"./Views-3aa30f3b.js";import{c as w,d as M,b as R}from"./SatuanService-190aa774.js";import{B as G}from"./SatuanForm-92945492.js";import"./StickyFooter-132dd9b0.js";import"./ConfirmDialog-ac6f9f6d.js";import"./formik.esm-e4f7a6c1.js";import"./index-7729926c.js";import"./index.esm-0e511974.js";const h="satuanEdit",d=x(h+"/getSatuanes",async t=>{try{return(await w(t)).data}catch(a){if(a.response&&a.response.data){const n=Array.isArray(a.response.data.message)?a.response.data.message[0]:a.response.data.message||"Terjadi kesalahan";return{statusCode:a.response.status||400,message:n}}return{statusCode:500,message:"Terjadi kesalahan pada server"}}}),I=async t=>{try{return(await M(t)).data}catch(a){if(a.response&&a.response.data){const n=Array.isArray(a.response.data.message)?a.response.data.message[0]:a.response.data.message||"Terjadi kesalahan";return{statusCode:a.response.status||400,message:n}}return{statusCode:500,message:"Terjadi kesalahan pada server"}}},L=async t=>(await R(t)).data,$={loading:!0,satuanData:{}},B=D({name:`${h}/state`,initialState:$,reducers:{},extraReducers:t=>{t.addCase(d.fulfilled,(a,n)=>{a.satuanData=n.payload,a.loading=!1}).addCase(d.pending,a=>{a.loading=!0})}}),P=B.reducer,q=E({data:P}),g=k;C("satuanEdit",q);const O=()=>{const t=N(),a=A(),n=b(),o=g(e=>e.satuanEdit.data.satuanData),u=g(e=>e.satuanEdit.data.loading),f=e=>{t(d(e))},p=e=>{i.push(s.jsxs(c,{title:`Successfuly ${e}`,type:"success",duration:2500,children:["Satuan successfuly ",e]}),{placement:"top-center"}),n("/master/satuan")},y=async(e,r)=>{try{r(!0);const l=await I(e);l.statusCode===200?p("updated"):i.push(s.jsx(c,{title:"Gagal menambahkan",type:"danger",duration:3500,children:l.message}),{placement:"top-center"})}finally{r(!1)}},S=()=>{n("/master/satuan")},j=async e=>{e(!1);const r=await L({id:o.id});r.statusCode===200?p("deleted"):i.push(s.jsx(c,{title:"Gagal menghapus",type:"danger",duration:3500,children:r.message}),{placement:"top-center"})};return v.useEffect(()=>{const r={id:a.pathname.substring(a.pathname.lastIndexOf("/")+1)};f(r)},[a.pathname]),s.jsxs(s.Fragment,{children:[s.jsx(F,{loading:u,children:!m(o)&&s.jsx(s.Fragment,{children:s.jsx(G,{type:"edit",initialData:o,onFormSubmit:y,onDiscard:S,onDelete:j})})}),!u&&m(o)&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[s.jsx(T,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),s.jsx("h3",{className:"mt-8",children:"No product found!"})]})]})},Y=O;export{Y as default};
