import{ah as g,ai as S,aj as x,ak as D,al as j,a as E,a8 as y,a6 as N,r as F,j as s,am as w}from"./index-b009c0ac.js";import{D as A}from"./DoubleSidedImage-eb3e49ea.js";import{i as d,t as R,N as v}from"./Views-3aa30f3b.js";import{g as C,h as I,f as L}from"./SubkontraktorService-16494bf1.js";import{S as P}from"./SubkontraktorForm-15d2b58c.js";import"./StickyFooter-132dd9b0.js";import"./ConfirmDialog-ac6f9f6d.js";import"./formik.esm-e4f7a6c1.js";import"./index-7729926c.js";import"./index.esm-0e511974.js";const p="subkontraktorEdit",c=g(p+"/getSubkontraktors",async e=>(await C(e)).data),$=async e=>(await I(e)).data,M=async e=>(await L(e)).data,q={loading:!0,subkontraktorData:{}},G=S({name:`${p}/state`,initialState:q,reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,(a,r)=>{a.subkontraktorData=r.payload,a.loading=!1}).addCase(c.pending,a=>{a.loading=!0})}}),O=G.reducer,T=x({data:O}),l=D;j("subkontraktorEdit",T);const _=()=>{const e=E(),a=y(),r=N(),n=l(t=>t.subkontraktorEdit.data.subkontraktorData),i=l(t=>t.subkontraktorEdit.data.loading),k=t=>{e(c(t))},m=async(t,o)=>{o(!0);const h=await $(t);o(!1),h&&u("updated")},f=()=>{r("/master/subkontraktor")},b=async t=>{t(!1),await M({id:n.id})&&u("deleted")},u=t=>{R.push(s.jsxs(v,{title:`Successfuly ${t}`,type:"success",duration:2500,children:["Product successfuly ",t]}),{placement:"top-center"}),r("/master/subkontraktor")};return F.useEffect(()=>{const o={id:a.pathname.substring(a.pathname.lastIndexOf("/")+1)};k(o)},[a.pathname]),s.jsxs(s.Fragment,{children:[s.jsx(w,{loading:i,children:!d(n)&&s.jsx(s.Fragment,{children:s.jsx(P,{type:"edit",initialData:n,onFormSubmit:m,onDiscard:f,onDelete:b})})}),!i&&d(n)&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[s.jsx(A,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),s.jsx("h3",{className:"mt-8",children:"No product found!"})]})]})},Y=_;export{Y as default};
