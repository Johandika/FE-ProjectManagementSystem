import{R as J,r as M}from"./index-b009c0ac.js";function ve(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}var Y;(function(e){e.event="event",e.props="prop"})(Y||(Y={}));function G(){}function ee(e){return!!(e||"").match(/\d/)}function Q(e){return e==null}function Ie(e){return typeof e=="number"&&isNaN(e)}function se(e){return Q(e)||Ie(e)||typeof e=="number"&&!isFinite(e)}function ce(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Re(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Ae(e,r,t){var n=Re(t),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+r)}function Ee(e){var r=M.useRef(e);r.current=e;var t=M.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return r.current.apply(r,n)});return t.current}function ne(e,r){r===void 0&&(r=!0);var t=e[0]==="-",n=t&&r;e=e.replace("-","");var a=e.split("."),o=a[0],u=a[1]||"";return{beforeDecimal:o,afterDecimal:u,hasNegation:t,addNegation:n}}function Be(e){if(!e)return e;var r=e[0]==="-";r&&(e=e.substring(1,e.length));var t=e.split("."),n=t[0].replace(/^0+/,"")||"0",a=t[1]||"";return(r?"-":"")+n+(a?"."+a:"")}function de(e,r,t){for(var n="",a=t?"0":"",o=0;o<=r-1;o++)n+=e[o]||a;return n}function oe(e,r){return Array(r+1).join(e)}function ge(e){var r=e+"",t=r[0]==="-"?"-":"";t&&(r=r.substring(1));var n=r.split(/[eE]/g),a=n[0],o=n[1];if(o=Number(o),!o)return t+a;a=a.replace(".","");var u=1+o,h=a.length;return u<0?a="0."+oe("0",Math.abs(u))+a:u>=h?a=a+oe("0",u-h):a=(a.substring(0,u)||"0")+"."+a.substring(u),t+a}function fe(e,r,t){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||t)&&r,a=ne(e),o=a.beforeDecimal,u=a.afterDecimal,h=a.hasNegation,p=parseFloat("0."+(u||"0")),D=u.length<=r?"0."+u:p.toFixed(r),g=D.split("."),c=o.split("").reverse().reduce(function(S,b,R){return S.length>R?(Number(S[0])+Number(b)).toString()+S.substring(1,S.length):b+S},g[0]),y=de(g[1]||"",r,t),d=h?"-":"",l=n?".":"";return""+d+c+l+y}function q(e,r){if(e.value=e.value,e!==null){if(e.createTextRange){var t=e.createTextRange();return t.move("character",r),t.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(r,r),!0):(e.focus(),!1)}}function me(e,r){for(var t=0,n=0,a=e.length,o=r.length;e[t]===r[t]&&t<a;)t++;for(;e[a-1-n]===r[o-1-n]&&o-n>t&&a-n>t;)n++;return{from:{start:t,end:a-n},to:{start:t,end:o-n}}}function Te(e,r,t){return Math.min(Math.max(e,r),t)}function ae(e){return Math.max(e.selectionStart,e.selectionEnd)}function Oe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function _e(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Fe(e,r,t,n,a,o){var u=me(t,e),h=u.from,p=u.to;if(h.end-h.start===1&&h.end===p.end&&p.end===n)return n;var D=a.findIndex(function(U){return U}),g=e.slice(0,D);!r&&!t.startsWith(g)&&(t=g+t,n=n+g.length);for(var c=t.length,y=e.length,d={},l=new Array(c),S=0;S<c;S++){l[S]=-1;for(var b=0,R=y;b<R;b++)if(t[S]===e[b]&&d[b]!==!0){l[S]=b,d[b]=!0;break}}for(var N=n;N<c&&(l[N]===-1||!o(t[N]));)N++;var E=N===c||l[N]===-1?y:l[N];for(N=n-1;N>0&&l[N]===-1;)N--;var F=N===-1||l[N]===-1?0:l[N]+1;return F>E?E:n-F<E-n?F:E}function ue(e,r,t,n){var a=e.length;if(r=Te(r,0,a),n==="left"){for(;r>=0&&!t[r];)r--;r===-1&&(r=t.indexOf(!0))}else{for(;r<=a&&!t[r];)r++;r>a&&(r=t.lastIndexOf(!0))}return r===-1&&(r=a),r}function Le(e){for(var r=Array.from({length:e.length+1}).map(function(){return!0}),t=0,n=r.length;t<n;t++)r[t]=!!(ee(e[t])||ee(e[t-1]));return r}function he(e,r,t,n,a,o){o===void 0&&(o=G);var u=Ee(function(l,S){var b,R;return se(l)?(R="",b=""):typeof l=="number"||S?(R=typeof l=="number"?ge(l):l,b=n(R)):(R=a(l,void 0),b=n(R)),{formattedValue:b,numAsString:R}}),h=M.useState(function(){return u(Q(e)?r:e,t)}),p=h[0],D=h[1],g=function(l,S){l.formattedValue!==p.formattedValue&&D({formattedValue:l.formattedValue,numAsString:l.value}),o(l,S)},c=e,y=t;Q(e)&&(c=p.numAsString,y=!0);var d=u(c,y);return M.useMemo(function(){D(d)},[d.formattedValue]),[p,g]}function Me(e){return e.replace(/[^0-9]/g,"")}function je(e){return e}function ke(e){var r=e.type;r===void 0&&(r="text");var t=e.displayType;t===void 0&&(t="input");var n=e.customInput,a=e.renderText,o=e.getInputRef,u=e.format;u===void 0&&(u=je);var h=e.removeFormatting;h===void 0&&(h=Me);var p=e.defaultValue,D=e.valueIsNumericString,g=e.onValueChange,c=e.isAllowed,y=e.onChange;y===void 0&&(y=G);var d=e.onKeyDown;d===void 0&&(d=G);var l=e.onMouseUp;l===void 0&&(l=G);var S=e.onFocus;S===void 0&&(S=G);var b=e.onBlur;b===void 0&&(b=G);var R=e.value,N=e.getCaretBoundary;N===void 0&&(N=Le);var E=e.isValidInputCharacter;E===void 0&&(E=ee);var F=ve(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter"]),U=he(R,p,!!D,u,h,g),Z=U[0],m=Z.formattedValue,W=Z.numAsString,$=U[1],j=M.useRef({formattedValue:m,numAsString:W}),H=function(i,f){j.current={formattedValue:i.formattedValue,numAsString:i.value},$(i,f)},z=M.useState(!1),s=z[0],x=z[1],O=M.useRef(null),I=M.useRef({setCaretTimeout:null,focusTimeout:null});M.useEffect(function(){return x(!0),function(){clearTimeout(I.current.setCaretTimeout),clearTimeout(I.current.focusTimeout)}},[]);var k=u,B=function(i,f){var v=parseFloat(f);return{formattedValue:i,value:f,floatValue:isNaN(v)?void 0:v}},L=function(i,f,v){i.selectionStart===0&&i.selectionEnd===i.value.length||(q(i,f),I.current.setCaretTimeout=setTimeout(function(){i.value===v&&i.selectionStart!==i.selectionEnd&&q(i,f)},0))},_=function(i,f,v){return ue(i,f,N(i),v)},P=function(i,f,v){var V=N(f),C=Fe(f,m,i,v,V,E);return C=ue(f,C,V),C},K=function(i){var f=i.formattedValue;f===void 0&&(f="");var v=i.input,V=i.setCaretPosition;V===void 0&&(V=!0);var C=i.source,w=i.event,A=i.numAsString,T=i.caretPos;if(v){if(T===void 0&&V){var X=i.inputValue||v.value,te=ae(v);v.value=f,T=P(X,f,te)}v.value=f,V&&T!==void 0&&L(v,T,f)}f!==m&&H(B(f,A),{event:w,source:C})};M.useEffect(function(){var i=j.current,f=i.formattedValue,v=i.numAsString;m!==f&&(m!==W||f!==v)&&H(B(m,W),{event:void 0,source:Y.props})},[m,W]);var Se=O.current?ae(O.current):void 0,xe=typeof window<"u"?M.useLayoutEffect:M.useEffect;xe(function(){var i=O.current;if(m!==j.current.formattedValue&&i){var f=P(j.current.formattedValue,m,Se);i.value=m,L(i,f,m)}},[m]);var pe=function(i,f,v){var V=me(m,i),C=Object.assign(Object.assign({},V),{lastValue:m}),w=h(i,C),A=k(w);if(w=h(A,void 0),c&&!c(B(A,w))){var T=f.target,X=ae(T),te=P(i,m,X);return T.value=m,L(T,te,m),!1}return K({formattedValue:A,numAsString:w,inputValue:i,event:f,source:v,setCaretPosition:!0,input:f.target}),!0},ye=function(i){var f=i.target,v=f.value,V=pe(v,i,Y.event);V&&y(i)},Ne=function(i){var f=i.target,v=i.key,V=f.selectionStart,C=f.selectionEnd,w=f.value;w===void 0&&(w="");var A;if(v==="ArrowLeft"||v==="Backspace"?A=Math.max(V-1,0):v==="ArrowRight"?A=Math.min(V+1,w.length):v==="Delete"&&(A=V),A===void 0||V!==C){d(i);return}var T=A;if(v==="ArrowLeft"||v==="ArrowRight"){var X=v==="ArrowLeft"?"left":"right";T=_(w,A,X),T!==A&&i.preventDefault()}else v==="Delete"&&!E(w[A])?T=_(w,A,"right"):v==="Backspace"&&!E(w[A])&&(T=_(w,A,"left"));T!==A&&L(f,T,w),i.isUnitTestRun&&L(f,T,w),d(i)},be=function(i){var f=i.target,v=f.selectionStart,V=f.selectionEnd,C=f.value;if(C===void 0&&(C=""),v===V){var w=_(C,v);w!==v&&L(f,w,C)}l(i)},we=function(i){i.persist&&i.persist();var f=i.target;O.current=f,I.current.focusTimeout=setTimeout(function(){var v=f.selectionStart,V=f.selectionEnd,C=f.value;C===void 0&&(C="");var w=_(C,v);w!==v&&!(v===0&&V===C.length)&&L(f,w,C),S(i)},0)},De=function(i){O.current=null,clearTimeout(I.current.focusTimeout),clearTimeout(I.current.setCaretTimeout),b(i)},Ve=s&&Oe()?"numeric":void 0,ie=Object.assign({inputMode:Ve},F,{type:r,value:m,onChange:ye,onKeyDown:Ne,onMouseUp:be,onFocus:we,onBlur:De});if(t==="text")return a?J.createElement(J.Fragment,null,a(m,F)||null):J.createElement("span",Object.assign({},F,{ref:o}),m);if(n){var Ce=n;return J.createElement(Ce,Object.assign({},ie,{ref:o}))}return J.createElement("input",Object.assign({},ie,{ref:o}))}function le(e,r){var t=r.decimalScale,n=r.fixedDecimalScale,a=r.prefix;a===void 0&&(a="");var o=r.suffix;o===void 0&&(o="");var u=r.allowNegative,h=r.thousandsGroupStyle;if(h===void 0&&(h="thousand"),e===""||e==="-")return e;var p=re(r),D=p.thousandSeparator,g=p.decimalSeparator,c=t!==0&&e.indexOf(".")!==-1||t&&n,y=ne(e,u),d=y.beforeDecimal,l=y.afterDecimal,S=y.addNegation;return t!==void 0&&(l=de(l,t,!!n)),D&&(d=Ae(d,D,h)),a&&(d=a+d),o&&(l=l+o),S&&(d="-"+d),e=d+(c&&g||"")+l,e}function re(e){var r=e.decimalSeparator;r===void 0&&(r=".");var t=e.thousandSeparator,n=e.allowedDecimalSeparators;return t===!0&&(t=","),n||(n=[r,"."]),{decimalSeparator:r,thousandSeparator:t,allowedDecimalSeparators:n}}function Pe(e,r){e===void 0&&(e="");var t=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=t.test(e),o=n.test(e);return e=e.replace(/-/g,""),a&&!o&&r&&(e="-"+e),e}function Ke(e,r){return new RegExp("(^-)|[0-9]|"+ce(e),r?"g":void 0)}function Ue(e,r,t){return e===""?!0:!(r!=null&&r.match(/\d/))&&!(t!=null&&t.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function We(e,r,t){var n;r===void 0&&(r=_e(e));var a=t.allowNegative,o=t.prefix;o===void 0&&(o="");var u=t.suffix;u===void 0&&(u="");var h=t.decimalScale,p=r.from,D=r.to,g=D.start,c=D.end,y=re(t),d=y.allowedDecimalSeparators,l=y.decimalSeparator,S=e[c]===l;if(ee(e)&&(e===o||e===u)&&r.lastValue==="")return e;if(c-g===1&&d.indexOf(e[g])!==-1){var b=h===0?"":l;e=e.substring(0,g)+b+e.substring(g+1,e.length)}var R=function(k,B,L){var _=!1,P=!1;o.startsWith("-")?_=!1:k.startsWith("--")?(_=!1,P=!0):u.startsWith("-")&&k.length===u.length?_=!1:k[0]==="-"&&(_=!0);var K=_?1:0;return P&&(K=2),K&&(k=k.substring(K),B-=K,L-=K),{value:k,start:B,end:L,hasNegation:_}},N=R(e,g,c),E=N.hasNegation;n=N,e=n.value,g=n.start,c=n.end;var F=R(r.lastValue,p.start,p.end),U=F.start,Z=F.end,m=F.value,W=e.substring(g,c);e.length&&m.length&&(U>m.length-u.length||Z<o.length)&&!(W&&u.startsWith(W))&&(e=m);var $=0;e.startsWith(o)?$+=o.length:g<o.length&&($=g),e=e.substring($),c-=$;var j=e.length,H=e.length-u.length;e.endsWith(u)?j=H:(c>H||c>e.length-u.length)&&(j=c),e=e.substring(0,j),e=Pe(E?"-"+e:e,a),e=(e.match(Ke(l,!0))||[]).join("");var z=e.indexOf(l);e=e.replace(new RegExp(ce(l),"g"),function(k,B){return B===z?".":""});var s=ne(e,a),x=s.beforeDecimal,O=s.afterDecimal,I=s.addNegation;return D.end-D.start<p.end-p.start&&x===""&&S&&!parseFloat(O)&&(e=I?"-":""),e}function $e(e,r){var t=r.prefix;t===void 0&&(t="");var n=r.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";a.fill(!1,0,t.length+(o?1:0));var u=e.length;return a.fill(!1,u-n.length+1,u+1),a}function Ge(e){var r=re(e),t=r.thousandSeparator,n=r.decimalSeparator,a=e.prefix;a===void 0&&(a="");var o=e.allowNegative;if(o===void 0&&(o=!0),t===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+t+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function Ze(e){e=Ge(e);var r=e.decimalSeparator;r===void 0&&(r="."),e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,a=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=G);var u=e.onBlur;u===void 0&&(u=G);var h=e.thousandSeparator,p=e.decimalScale,D=e.fixedDecimalScale,g=e.prefix;g===void 0&&(g="");var c=e.defaultValue,y=e.value,d=e.valueIsNumericString,l=e.onValueChange,S=ve(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),b=function(s){return le(s,e)},R=function(s,x){return We(s,x,e)},N=Q(y)?c:y,E=d??Ue(N,g,t);Q(y)?Q(c)||(E=d||typeof c=="number"):E=d||typeof y=="number";var F=function(s){return se(s)?s:(typeof s=="number"&&(s=ge(s)),E&&typeof p=="number"?fe(s,p,!!D):s)},U=he(F(y),F(c),!!E,b,R,l),Z=U[0],m=Z.numAsString,W=Z.formattedValue,$=U[1],j=function(s){var x=s.target,O=s.key,I=x.selectionStart,k=x.selectionEnd,B=x.value;if(B===void 0&&(B=""),I!==k){o(s);return}O==="Backspace"&&B[0]==="-"&&I===g.length+1&&n&&q(x,1);var L=re(e),_=L.decimalSeparator,P=L.allowedDecimalSeparators;O==="Backspace"&&B[I-1]===_&&p&&D&&(q(x,I-1),s.preventDefault()),P!=null&&P.includes(O)&&B[I]===_&&q(x,I+1);var K=h===!0?",":h;O==="Backspace"&&B[I-1]===K&&q(x,I-1),O==="Delete"&&B[I]===K&&q(x,I+1),o(s)},H=function(s){var x=m;if(x.match(/\d/g)||(x=""),a||(x=Be(x)),D&&p&&(x=fe(x,p,D)),x!==m){var O=le(x,e);$({formattedValue:O,value:x,floatValue:parseFloat(x)},{event:s,source:Y.event})}u(s)},z=function(s){return s===r?!0:ee(s)};return Object.assign(Object.assign({},S),{value:W,valueIsNumericString:!1,isValidInputCharacter:z,onValueChange:$,format:b,removeFormatting:R,getCaretBoundary:function(s){return $e(s,e)},onKeyDown:j,onBlur:H})}function qe(e){var r=Ze(e);return J.createElement(ke,Object.assign({},r))}export{qe as N};
