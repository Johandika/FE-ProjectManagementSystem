import{al as x,a as D,a8 as E,a6 as P,r as N,j as s,am as b}from"./index-b009c0ac.js";import{D as S}from"./DoubleSidedImage-eb3e49ea.js";import{J as n,av as _,aw as F,ax as v,i as r,Q as K,K as L,O as w,ay as A,az as C,t as I,N as O}from"./Views-3aa30f3b.js";import{P as R}from"./ProyekForm-c87444dd.js";import"./StickyFooter-132dd9b0.js";import"./ConfirmDialog-ac6f9f6d.js";import"./formik.esm-e4f7a6c1.js";import"./react-number-format.es-92e434c6.js";import"./index-7729926c.js";import"./index.esm-0e511974.js";x("proyekEdit",K);const $=()=>{const o=D(),i=E(),c=P(),t=n(a=>a.proyekEdit.data.proyekData),p=n(a=>{var e;return((e=a.proyekEdit.data.kliensData)==null?void 0:e.data)||[]}),m=n(a=>{var e;return((e=a.proyekEdit.data.berkasesData)==null?void 0:e.data)||[]}),d=n(a=>a.proyekEdit.data.loading),k=n(a=>a.proyekEdit.data.loadingKliens),u=a=>{o(L(a)),o(w(a))},g=async(a,e)=>{e(!0);const j=await A(a);e(!1),j&&l("updated")},y=()=>{c("/manajemen-proyek")},f=async a=>{a(!1),await C({id:t.id})&&l("deleted")},l=a=>{I.push(s.jsxs(O,{title:`Successfuly ${a}`,type:"success",duration:2500,children:["Proyek successfuly ",a]}),{placement:"top-center"}),c("/manajemen-proyek")};N.useEffect(()=>{const e={id:i.pathname.substring(i.pathname.lastIndexOf("/")+1)};u(e),o(_()),o(F()),o(v())},[i.pathname]);const h=r(t)?{}:{id:t.id,pekerjaan:t.pekerjaan,pic:t.pic,nomor_kontrak:t.nomor_kontrak,tanggal_kontrak:t.tanggal_kontrak,nilai_kontrak:t.nilai_kontrak,timeline:t.timeline,keterangan:t.keterangan,idClient:t.Client.id};return s.jsxs(s.Fragment,{children:[s.jsx(b,{loading:d||k,children:!r(t)&&s.jsx(s.Fragment,{children:s.jsx(R,{type:"edit",initialDataEdit:h,kliensList:p,berkasesList:m,onFormSubmit:g,onDiscard:y,onDelete:f})})}),!d&&r(t)&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[s.jsx(S,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),s.jsx("h3",{className:"mt-8",children:"No proyek found!"})]})]})},V=$;export{V as default};
