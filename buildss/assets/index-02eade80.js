import{a6 as p,j as s}from"./index-b009c0ac.js";import{K as l}from"./KlienForm-e318acc9.js";import{t as r,N as n}from"./Views-3aa30f3b.js";import{e as d}from"./KlienService-b60295c6.js";import"./StickyFooter-132dd9b0.js";import"./ConfirmDialog-ac6f9f6d.js";import"./formik.esm-e4f7a6c1.js";import"./index-7729926c.js";import"./index.esm-0e511974.js";const u=()=>{const o=p(),i=async t=>{try{return{success:!0,data:(await d(t)).data}}catch(e){let a="Terjadi kesalahan saat menambahkan klien";return e.response&&e.response.data&&e.response.data.message&&(a=Array.isArray(e.response.data.message)?e.response.data.message[0]:e.response.data.message),{success:!1,message:a}}},m=async(t,e)=>{try{e(!0);const a=await i(t);e(!1),a.success?(r.push(s.jsx(n,{title:"Successfuly added",type:"success",duration:2500,children:"Klien berhasil ditambahkan"}),{placement:"top-center"}),o("/master/klien")):r.push(s.jsx(n,{title:"Gagal menambahkan",type:"danger",duration:3500,children:a.message}),{placement:"top-center"})}catch(a){console.error("Error tidak tertangkap:",a),r.push(s.jsx(n,{title:"Kesalahan Sistem",type:"danger",duration:2500,children:"Terjadi kesalahan saat memproses permintaan"}),{placement:"top-center"})}},c=()=>{o("/master/klien")};return s.jsx(s.Fragment,{children:s.jsx(l,{type:"new",onFormSubmit:m,onDiscard:c})})},w=u;export{w as default};
