import{ah as t,ai as r,aj as u,ak as l,al as c}from"./index-8f324225.js";async function m(e){const a=new URLSearchParams;e.idProject&&a.append("idProject",e.idProject.toString()),e.query&&a.append("search",e.query.toString()),e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString());const d=`/adendum${a.toString()?`?${a.toString()}`:""}`;return t.fetchData({url:d,method:"get"})}async function p(e){return(await t.fetchData({url:`/adendum/project/${e.id}`,method:"get",data:e})).data}async function h(e){return(await t.fetchData({url:`/adendum/${e.id}`,method:"get",data:e})).data}async function D(e){return t.fetchData({url:"/adendum/timeline",method:"post",data:e})}async function S(e){return t.fetchData({url:"/adendum/lokasi",method:"post",data:e})}async function P(e){return t.fetchData({url:"/adendum/nilai-kontrak",method:"post",data:e})}async function k(e){return t.fetchData({url:`/adendum/status/${e.id}`,method:"patch",data:e})}async function C(e){return Array.isArray(e.id)?t.fetchData({url:"/adendum/delete",method:"delete",data:e}):t.fetchData({url:`/adendum/${e.id}`,method:"delete"})}const n="adendumList",s=r(n+"/getAdendums",async e=>{const a=await m(e);return{data:a.data.data,total:a.data.totaldataAdendum,totalPage:a.data.totalPage}}),o=r(n+"/getAdendumsByProyek",async e=>({data:(await p(e)).data})),f={total:0,pageIndex:1,pageSize:10,query:""},y={loading:!1,deleteConfirmation:!1,updateConfirmation:!1,selectedAdendum:"",adendumStatus:"",adendumsList:[],adendumsByProyekList:[],loadingAdendumsByProyek:!1,tableData:f,filterData:{name:"",category:[],status:[0,1,2],productStatus:0}},i=u({name:`${n}/state`,initialState:y,reducers:{updateProductList:(e,a)=>{e.productList=a.payload},setTableData:(e,a)=>{e.tableData=a.payload},setFilterData:(e,a)=>{e.filterData=a.payload},toggleUpdateConfirmation:(e,a)=>{e.updateConfirmation=a.payload},toggleDeleteConfirmation:(e,a)=>{e.deleteConfirmation=a.payload},setSelectedAdendum:(e,a)=>{e.selectedAdendum=a.payload},setAdendumStatus:(e,a)=>{e.adendumStatus=a.payload}},extraReducers:e=>{e.addCase(s.fulfilled,(a,d)=>{a.adendumsList=d.payload.data,a.tableData.total=d.payload.total,a.tableData.totalPage=d.payload.totalPage,a.loading=!1}).addCase(s.pending,a=>{a.loading=!0}).addCase(o.fulfilled,(a,d)=>{a.adendumsByProyekList=d.payload.data,a.loadingAdendumsByProyek=!1}).addCase(o.pending,a=>{a.loadingAdendumsByProyek=!0})}}),{updateProductList:L,setTableData:b,setFilterData:B,toggleUpdateConfirmation:$,toggleDeleteConfirmation:j,setSelectedAdendum:w,setAdendumStatus:T}=i.actions,g=i.reducer,N=l({data:g}),R=c;function U(e){return e.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}export{D as a,P as b,C as c,p as d,h as e,U as f,o as g,S as h,$ as i,k as j,s as k,w as l,T as m,N as r,b as s,j as t,R as u};
