import{j as a,r as d}from"./index-8f324225.js";import{F as u,K as x,J as h,P as f,B as c,H as j}from"./Views-a6cda74e.js";import{S as g}from"./StickyFooter-e17b8275.js";import{C}from"./ConfirmDialog-cacab1ef.js";import{b,F as k,a as y}from"./formik.esm-79e86e67.js";import{A as F}from"./AdaptableCard-54b628e2.js";import{a as v}from"./index-7235128c.js";import{c as B,a as S}from"./index.esm-02ea902b.js";const N=e=>{const{touched:i,errors:s}=e;return a.jsxs(F,{divider:!0,className:"mb-4",children:[a.jsx("h5",{children:"Informasi Dasar"}),a.jsx("p",{className:"mb-6",children:"Sesi untuk mengatur informasi dasar satuan"}),a.jsx(u,{label:"Satuan",invalid:s.satuan&&i.satuan,errorMessage:s.satuan,children:a.jsx(b,{type:"text",autoComplete:"off",name:"satuan",placeholder:"Satuan",component:x})})]})},O=B().shape({satuan:S().required("Satuan wajib diisi")}),A=({onDelete:e})=>{const[i,s]=d.useState(!1),t=()=>{s(!0)},r=()=>{s(!1)},n=()=>{e==null||e(s)};return a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"text-red-600",variant:"plain",size:"sm",icon:a.jsx(j,{}),type:"button",onClick:t,children:"Hapus"}),a.jsx(C,{isOpen:i,type:"danger",title:"Hapus berkas",confirmButtonColor:"red-600",onClose:r,onRequestClose:r,onCancel:r,onConfirm:n,children:a.jsx("p",{children:"Apakah Anda yakin ingin menghapus berkas ini?"})})]})},D=d.forwardRef((e,i)=>{const{type:s,initialData:t={satuan:""},onFormSubmit:r,onDiscard:n,onDelete:p}=e;return a.jsx(a.Fragment,{children:a.jsx(k,{innerRef:i,initialValues:{...t},validationSchema:O,onSubmit:(o,{setSubmitting:l})=>{const m=h(o);r==null||r(m,l)},children:({touched:o,errors:l,isSubmitting:m})=>a.jsx(y,{children:a.jsxs(f,{children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:a.jsx("div",{className:"lg:col-span-2",children:a.jsx(N,{touched:o,errors:l})})}),a.jsxs(g,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsx("div",{children:s==="edit"&&a.jsx(A,{onDelete:p})}),a.jsxs("div",{className:"md:flex items-center",children:[a.jsx(c,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:()=>n==null?void 0:n(),children:"Batal"}),a.jsx(c,{size:"sm",variant:"solid",loading:m,icon:a.jsx(v,{}),type:"submit",children:"Simpan"})]})]})]})})})})});D.displayName="BerkasForm";export{D as B};
