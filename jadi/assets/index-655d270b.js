import{ai as S,aj as g,ak as x,al as D,i as j,u as E,a9 as y,a7 as N,r as F,j as s,am as w}from"./index-8f324225.js";import{D as A}from"./DoubleSidedImage-429e335d.js";import{i as d,t as R,N as v}from"./Views-a6cda74e.js";import{g as C,h as I,f as L}from"./SubkontraktorService-d1deb94f.js";import{S as $}from"./SubkontraktorForm-a251c51c.js";import"./StickyFooter-e17b8275.js";import"./ConfirmDialog-cacab1ef.js";import"./formik.esm-79e86e67.js";import"./AdaptableCard-54b628e2.js";import"./index-7235128c.js";import"./index.esm-02ea902b.js";const l="subkontraktorEdit",c=S(l+"/getSubkontraktors",async o=>(await C(o)).data),M=async o=>(await I(o)).data,P=async o=>(await L(o)).data,q={loading:!0,subkontraktorData:{}},G=g({name:`${l}/state`,initialState:q,reducers:{},extraReducers:o=>{o.addCase(c.fulfilled,(a,r)=>{a.subkontraktorData=r.payload,a.loading=!1}).addCase(c.pending,a=>{a.loading=!0})}}),O=G.reducer,T=x({data:O}),p=D;j("subkontraktorEdit",T);const _=()=>{const o=E(),a=y(),r=N(),n=p(t=>t.subkontraktorEdit.data.subkontraktorData),i=p(t=>t.subkontraktorEdit.data.loading),k=t=>{o(c(t))},m=async(t,e)=>{e(!0);const h=await M(t);e(!1),h&&u("updated")},f=()=>{r("/master/subkontraktor")},b=async t=>{t(!1),await P({id:n.id})&&u("deleted")},u=t=>{R.push(s.jsxs(v,{title:`Successfuly ${t}`,type:"success",duration:2500,children:["Subkontraktor successfuly ",t]}),{placement:"top-center"}),r("/master/subkontraktor")};return F.useEffect(()=>{const e={id:a.pathname.substring(a.pathname.lastIndexOf("/")+1)};k(e)},[a.pathname]),s.jsxs(s.Fragment,{children:[s.jsx(w,{loading:i,children:!d(n)&&s.jsx(s.Fragment,{children:s.jsx($,{type:"edit",initialData:n,onFormSubmit:m,onDiscard:f,onDelete:b})})}),!i&&d(n)&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[s.jsx(A,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),s.jsx("h3",{className:"mt-8",children:"No product found!"})]})]})},Z=_;export{Z as default};
