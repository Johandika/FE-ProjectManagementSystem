import{ai as y,aj as E,ak as S,al as C,i as N,u as O,a9 as b,a7 as k,r as A,j as n,am as F}from"./index-8f324225.js";import{D as U}from"./DoubleSidedImage-429e335d.js";import{i as m,t as i,N as d}from"./Views-a6cda74e.js";import{a as v,d as G,e as R,b as w}from"./UserService-c266ba79.js";import{P as I}from"./PenggunaForm-7e2c25d6.js";import"./StickyFooter-e17b8275.js";import"./ConfirmDialog-cacab1ef.js";import"./formik.esm-79e86e67.js";import"./AdaptableCard-54b628e2.js";import"./index-7235128c.js";import"./index.esm-02ea902b.js";const c="penggunaEdit",f=y(c+"/getPengguna",async s=>{try{return(await v(s)).data}catch(e){if(e.response&&e.response.data){const t=Array.isArray(e.response.data.message)?e.response.data.message[0]:e.response.data.message||"Terjadi kesalahan";return{statusCode:e.response.status||400,message:t}}return{statusCode:500,message:"Terjadi kesalahan pada server"}}}),g=y(c+"/getOnePengguna",async s=>(await G(s)).data),L={loading:!0,loadingOnePengguna:!0,penggunaData:{},onePenggunaData:[]},M=E({name:`${c}/state`,initialState:L,reducers:{},extraReducers:s=>{s.addCase(f.fulfilled,(e,t)=>{e.penggunaData=t.payload,e.loading=!1}).addCase(f.pending,e=>{e.loading=!0}).addCase(g.fulfilled,(e,t)=>{e.onePenggunaData=t.payload,e.loadingOnePengguna=!1}).addCase(g.pending,e=>{e.loadingOnePengguna=!0})}}),T=M.reducer,$=S({data:T}),h=C;N("penggunaEdit",$);const q=()=>{const s=O(),e=b(),t=k(),{onePenggunaData:o}=h(a=>a.penggunaEdit.data),{loadingOnePengguna:u}=h(a=>a.penggunaEdit.data),x=a=>{s(g(a))},p=a=>{i.push(n.jsxs(d,{title:`Successfuly ${a}`,type:"success",duration:2500,children:["Pengguna successfuly ",a]}),{placement:"top-center"}),t("/peran-dan-pengguna/pengguna")},j=async(a,r)=>{try{r(!0);const l=await R(a);l.data.statusCode===200?p("updated"):i.push(n.jsx(d,{title:"Gagal menambahkan",type:"danger",duration:3500,children:l.data.message}),{placement:"top-center"})}finally{r(!1)}},P=()=>{t("/peran-dan-pengguna/pengguna")},D=async a=>{a(!1);const r=await w({id:o.id});r.data.statusCode===200?p("deleted"):i.push(n.jsx(d,{title:"Gagal menghapus",type:"danger",duration:3500,children:r.message}),{placement:"top-center"})};return A.useEffect(()=>{const r={id:e.pathname.substring(e.pathname.lastIndexOf("/")+1)};x(r)},[e.pathname]),n.jsxs(n.Fragment,{children:[n.jsx(F,{loading:u,children:!m(o)&&n.jsx(n.Fragment,{children:n.jsx(I,{type:"edit",initialData:o,onFormSubmit:j,onDiscard:P,onDelete:D})})}),!u&&m(o)&&n.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[n.jsx(U,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),n.jsx("h3",{className:"mt-8",children:"No product found!"})]})]})},Z=q;export{Z as default};
