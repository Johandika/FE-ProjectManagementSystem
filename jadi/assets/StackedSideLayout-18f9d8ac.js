import{r as M,j as e,b,L as H,N as K,g as L,h as T,c as w,H as V,D as C,k as D,a as c,l as E,m as $}from"./index-8f324225.js";import{n as _,a as O,A as P,b as g,c as F,u as B,H as U,M as G,U as W}from"./navigation-icon.config-ccf83bef.js";import{S as Y}from"./SidePanel-48b15602.js";import{L as z}from"./Logo-8a0be44f.js";import{i as A,S as I,M as k,B as q,c as J,d as Q,V as X}from"./Views-a6cda74e.js";import{u as Z,V as ee}from"./VerticalMenuContent-2fe114fb.js";import"./index-81450355.js";const se=h=>{const{navMode:n,onChange:r,routeKey:x,activeKeys:d,onSetActiveKey:u,userAuthority:l,mode:o,direction:m,...i}=h,{includedRouteTree:a}=Z(_,x),f=()=>n===K?L:n===T?o:n,S=({key:t,title:N,menu:p,translateKey:v})=>{r({title:N,menu:p,translateKey:v}),u([t])},j=({key:t})=>{r({}),u([t])};return M.useEffect(()=>{a.type!==O&&!A(a)&&r({key:a.key,title:a.title,menu:a.subMenu,translateKey:a.translateKey})},[a.key]),e.jsxs("div",{...i,children:[e.jsx(z,{mode:f(),type:"streamline",className:b}),e.jsx(I,{autoHide:!0,direction:m,children:e.jsx(k,{className:"px-4 pb-4",variant:n,defaultActiveKeys:d||[a.key],children:_.map(t=>e.jsx(P,{authority:t.authority,userAuthority:l,children:t.subMenu&&t.subMenu.length>0?e.jsx(k.MenuItem,{eventKey:t.key,className:"mb-2",onSelect:()=>S({key:t.key,title:t.title,menu:t.subMenu,translateKey:t.translateKey}),children:e.jsx("div",{className:"text-2xl",children:g[t.icon]})}):e.jsx(H,{to:t.path,className:"flex items-center h-full w-full",onClick:()=>j({key:t.key}),children:e.jsx(k.MenuItem,{eventKey:t.key,className:"mb-2",children:e.jsx("div",{className:"text-2xl",children:g[t.icon]})})})},t.key))})})]})},te=h=>{const{className:n,title:r,menu:x,routeKey:d,onCollapse:u,direction:l,userAuthority:o,navMode:m,...i}=h,a=()=>{u()};return e.jsxs("div",{className:w("h-full",n),...i,children:[e.jsxs("div",{className:`${V} flex items-center justify-between gap-4 pl-6 pr-4`,children:[e.jsx("h5",{className:"font-bold",children:r}),e.jsx(q,{shape:"circle",variant:"plain",size:"sm",icon:e.jsxs(e.Fragment,{children:[l===C&&e.jsx(J,{}),l===D&&e.jsx(Q,{})]}),onClick:a})]}),e.jsx(I,{autoHide:!0,direction:l,children:e.jsx(ee,{routeKey:d,navigationTree:x,userAuthority:o,navMode:m})})]})},ae={width:$},ne=()=>{const{t:h}=F(),[n,r]=M.useState({}),[x,d]=M.useState([]),u=c(s=>s.theme.themeColor),l=c(s=>s.theme.primaryColorLevel),o=c(s=>s.theme.navMode),m=c(s=>s.theme.mode),i=c(s=>s.theme.direction),a=c(s=>s.base.common.currentRouteKey),f=c(s=>s.auth.user.authority),{larger:S}=B(),j=(s,y,R=!0)=>o===K&&R?`bg-${u}-${l} ${s}-${y}`:`${s}-${y}`,t=s=>{r(s)},N=()=>{r({}),d([])},p=s=>{d(s)},v=()=>{let s={};const y=`${-E}px`;return i===C&&(s={marginLeft:y}),i===D&&(s={marginRight:y}),s};return e.jsx(e.Fragment,{children:S.md&&e.jsxs("div",{className:"stacked-side-nav",children:[e.jsx(se,{className:`stacked-side-nav-mini ${j("stacked-side-nav-mini",o)}`,style:ae,routeKey:a,activeKeys:x,navMode:o,userAuthority:f,mode:m,direction:i,onChange:t,onSetActiveKey:p}),e.jsx("div",{className:`stacked-side-nav-secondary ${j("stacked-side-nav-secondary",m,!1)}`,style:{width:E,...A(n)?v():{}},children:!A(n)&&e.jsx(te,{title:h(n.translateKey,n.title),menu:n.menu,routeKey:a,navMode:T,direction:i,userAuthority:f,onCollapse:N})})]})})},re=()=>e.jsx(e.Fragment,{children:e.jsx(G,{})}),ie=()=>e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(W,{hoverable:!1})]}),xe=()=>e.jsx("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:e.jsxs("div",{className:"flex flex-auto min-w-0",children:[e.jsx(ne,{}),e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(U,{className:"shadow dark:shadow-2xl",headerStart:e.jsx(re,{}),headerEnd:e.jsx(ie,{})}),e.jsx("div",{className:"h-full flex flex-auto flex-col",children:e.jsx(X,{})})]})]})});export{xe as default};
