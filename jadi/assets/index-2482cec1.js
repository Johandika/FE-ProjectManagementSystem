import{a7 as u,u as h,a as g,r as f,as as y,j as t,am as k}from"./index-8f324225.js";import{K as j}from"./KlienForm-ce48210d.js";import{t as r,N as i}from"./Views-a6cda74e.js";import{e as x}from"./KlienService-a48e76b8.js";import"./AdaptableCard-54b628e2.js";import"./SvgIcon-d3af2c92.js";import"./ConfirmDialog-cacab1ef.js";import"./DataTable-66df47f9.js";import"./StickyFooter-e17b8275.js";import"./formik.esm-79e86e67.js";import"./index-7235128c.js";import"./index.esm-02ea902b.js";import"./useThemeClass-fe409b1f.js";import"./index-fee04496.js";const K=()=>{const n=u(),o=h(),{selectDivisi:c,loadingSelectDivisi:p}=g(s=>s.base.common),m=async s=>{try{return{success:!0,data:(await x(s)).data}}catch(e){let a="Terjadi kesalahan saat menambahkan klien";return e.response&&e.response.data&&e.response.data.message&&(a=Array.isArray(e.response.data.message)?e.response.data.message[0]:e.response.data.message),{success:!1,message:a}}},l=async(s,e)=>{try{e(!0);const a=await m(s);e(!1),a.success?(r.push(t.jsx(i,{title:"Successfuly added",type:"success",duration:2500,children:"Klien berhasil ditambahkan"}),{placement:"top-center"}),n("/master/klien")):r.push(t.jsx(i,{title:"Gagal menambahkan",type:"danger",duration:3500,children:a.message}),{placement:"top-center"})}catch(a){console.error("Error tidak tertangkap:",a),r.push(t.jsx(i,{title:"Kesalahan Sistem",type:"danger",duration:2500,children:"Terjadi kesalahan saat memproses permintaan"}),{placement:"top-center"})}},d=()=>{n("/master/klien")};return f.useEffect(()=>{o(y())},[]),t.jsx(k,{loading:p,children:t.jsx(j,{type:"new",dataDivisi:c.data,onFormSubmit:l,onDiscard:d})})},R=K;export{R as default};
