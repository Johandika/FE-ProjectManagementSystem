import{j as a,r as g}from"./index-8f324225.js";import{F as d,K as p,J as j,P as u,B as c,H as f}from"./Views-a6cda74e.js";import{S as v}from"./StickyFooter-e17b8275.js";import{C as k}from"./ConfirmDialog-cacab1ef.js";import{b as x,F as C,a as b}from"./formik.esm-79e86e67.js";import{A as y}from"./AdaptableCard-54b628e2.js";import{a as F}from"./index-7235128c.js";import{c as N,a as D}from"./index.esm-02ea902b.js";const S=s=>{const{touched:r,errors:e}=s;return a.jsxs(y,{divider:!0,className:"mb-4",children:[a.jsx("h5",{children:"Informasi Dasar"}),a.jsx("p",{className:"mb-6",children:"Sesi untuk mengatur informasi dasar divisi Tagihan"}),a.jsx(d,{label:"Nama divisi",invalid:e.name&&r.name,errorMessage:e.name,children:a.jsx(x,{type:"text",autoComplete:"off",name:"name",placeholder:"Nama divisi",component:p})}),a.jsx(d,{label:"Keterangan",labelClass:"!justify-start",invalid:e.keterangan&&r.keterangan,errorMessage:e.keterangan,children:a.jsx(x,{textArea:!0,name:"keterangan",placeholder:"Masukkan keterangan",component:p})})]})},A=N().shape({name:D().required("Nama wajib diisi")}),B=({onDelete:s})=>{const[r,e]=g.useState(!1),t=()=>{e(!0)},i=()=>{e(!1)},n=()=>{s==null||s(e)};return a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"text-red-600",variant:"plain",size:"sm",icon:a.jsx(f,{}),type:"button",onClick:t,children:"Hapus"}),a.jsx(k,{isOpen:r,type:"danger",title:"Hapus divisi",confirmButtonColor:"red-600",onClose:i,onRequestClose:i,onCancel:i,onConfirm:n,children:a.jsx("p",{children:"Apakah Anda yakin ingin menghapus divisi ini?"})})]})},O=g.forwardRef((s,r)=>{const{type:e,initialData:t={name:"",keterangan:""},onFormSubmit:i,onDiscard:n,onDelete:h}=s;return a.jsx(a.Fragment,{children:a.jsx(C,{innerRef:r,initialValues:{...t},validationSchema:A,onSubmit:(o,{setSubmitting:l})=>{const m=j(o);i==null||i(m,l)},children:({touched:o,errors:l,isSubmitting:m})=>a.jsx(b,{children:a.jsxs(u,{children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:a.jsx("div",{className:"lg:col-span-2",children:a.jsx(S,{touched:o,errors:l})})}),a.jsxs(v,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsx("div",{children:e==="edit"&&a.jsx(B,{onDelete:h})}),a.jsxs("div",{className:"md:flex items-center",children:[a.jsx(c,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:()=>n==null?void 0:n(),children:"Batal"}),a.jsx(c,{size:"sm",variant:"solid",loading:m,icon:a.jsx(F,{}),type:"submit",children:"Simpan"})]})]})]})})})})});O.displayName="DivisiForm";export{O as D};
