import{i as N,u as v,a9 as S,a7 as _,r as F,j as s,am as L,as as C}from"./index-8f324225.js";import{D as K}from"./DoubleSidedImage-429e335d.js";import{U as o,aN as R,aO as A,aP as I,i as r,W as O,Z as U,ab as $,aQ as q,aR as w,t as B,N as M}from"./Views-a6cda74e.js";import{P as Q}from"./ProyekForm-2b43f8f8.js";import"./StickyFooter-e17b8275.js";import"./ConfirmDialog-cacab1ef.js";import"./formik.esm-79e86e67.js";import"./AdaptableCard-54b628e2.js";import"./react-number-format.es-53214375.js";import"./index-7235128c.js";import"./index.esm-02ea902b.js";N("proyekEdit",O);const T=()=>{var l;const i=v(),n=S(),c=_(),e=o(a=>a.proyekEdit.data.proyekData),k=o(a=>{var t;return((t=a.proyekEdit.data.kliensData)==null?void 0:t.data)||[]}),u=o(a=>{var t;return((t=a.proyekEdit.data.berkasesData)==null?void 0:t.data)||[]}),d=o(a=>a.proyekEdit.data.loading),g=o(a=>a.proyekEdit.data.loadingKliens),{selectDivisi:y,loadingSelectDivisi:f}=o(a=>a.base.common),D=a=>{i(U(a)),i($(a)),i(C())},h=async(a,t)=>{var m;t(!0);const P={...a,pic:(m=a.pic)==null?void 0:m.toUpperCase()},b=await q(P);t(!1),b&&p("updated")},j=()=>{c("/manajemen-proyek/proyek")},x=async a=>{a(!1),await w({id:e.id})&&p("deleted")},p=a=>{B.push(s.jsxs(M,{title:`Successfuly ${a}`,type:"success",duration:2500,children:["Proyek successfuly ",a]}),{placement:"top-center"}),c("/manajemen-proyek/proyek")};F.useEffect(()=>{const t={id:n.pathname.substring(n.pathname.lastIndexOf("/")+1)};D(t),i(R()),i(A()),i(I())},[n.pathname]);const E=r(e)?{}:{id:e.id,pekerjaan:e.pekerjaan,pic:e.pic,nomor_kontrak:e.nomor_kontrak,tanggal_kontrak:e.tanggal_kontrak,nilai_kontrak:e.nilai_kontrak,timeline:e.timeline,keterangan:e.keterangan,idClient:(l=e.Client)==null?void 0:l.id,idDivisi:e.idDivisi};return s.jsxs(s.Fragment,{children:[s.jsx(L,{loading:d||g||f,children:!r(e)&&s.jsx(s.Fragment,{children:s.jsx(Q,{type:"edit",initialDataEdit:E,kliensList:k,dataDivisi:y.data,berkasesList:u,onFormSubmit:h,onDiscard:j,onDelete:x})})}),!d&&r(e)&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[s.jsx(K,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),s.jsx("h3",{className:"mt-8",children:"No proyek found!"})]})]})},ta=T;export{ta as default};
