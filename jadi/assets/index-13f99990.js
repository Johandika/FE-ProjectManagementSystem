import{a7 as c,j as r}from"./index-8f324225.js";import{S as d}from"./SubkontraktorForm-a251c51c.js";import{t as s,N as o}from"./Views-a6cda74e.js";import{i as u}from"./SubkontraktorService-d1deb94f.js";import"./StickyFooter-e17b8275.js";import"./ConfirmDialog-cacab1ef.js";import"./formik.esm-79e86e67.js";import"./AdaptableCard-54b628e2.js";import"./index-7235128c.js";import"./index.esm-02ea902b.js";const k=()=>{const n=c(),i=async t=>{try{return{success:!0,data:(await u(t)).data}}catch(a){let e="Terjadi kesalahan saat menambahkan berkas";return a.response&&a.response.data&&a.response.data.message&&(e=Array.isArray(a.response.data.message)?a.response.data.message[0]:a.response.data.message),{success:!1,message:e}}},m=async(t,a)=>{try{a(!0);const e=await i(t);a(!1),e.success?(s.push(r.jsx(o,{title:"Berhasil ditambahkan",type:"success",duration:2500,children:"Subkontraktor berhasil ditambahkan"}),{placement:"top-center"}),n("/master/subkontraktor")):s.push(r.jsx(o,{title:"Gagal menambahkan",type:"danger",duration:3500,children:e.message}),{placement:"top-center"})}catch(e){console.error("Error tidak tertangkap:",e),s.push(r.jsx(o,{title:"Kesalahan Sistem",type:"danger",duration:2500,children:"Terjadi kesalahan saat memproses permintaan"}),{placement:"top-center"})}},p=()=>{n("/master/subkontraktor")};return r.jsx(r.Fragment,{children:r.jsx(d,{type:"new",onFormSubmit:m,onDiscard:p})})},N=k;export{N as default};
