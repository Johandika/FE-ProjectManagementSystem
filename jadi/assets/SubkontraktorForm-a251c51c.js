import{j as a,r as d}from"./index-8f324225.js";import{bo as b,bp as x,bq as f,br as h,bs as j,bt as k,bu as g,bv as C,bw as y,bx as S,F as v,K as F,J as N,P as w,B as c,H as I}from"./Views-a6cda74e.js";import{S as R}from"./StickyFooter-e17b8275.js";import{C as B}from"./ConfirmDialog-cacab1ef.js";import{b as q,F as A,a as D}from"./formik.esm-79e86e67.js";import{A as O}from"./AdaptableCard-54b628e2.js";import{a as U}from"./index-7235128c.js";import{c as z,a as H}from"./index.esm-02ea902b.js";const T={useCallbackRef:b,useColorLevel:x,useControllableState:f,useDidUpdate:h,useMergeRef:j,useRootClose:k,useTimeout:g,useUncertainRef:C,useUniqueId:y,useWindowSize:S},$=e=>{const{touched:n,errors:s}=e;return a.jsxs(O,{divider:!0,className:"mb-4",children:[a.jsx("h5",{children:"Informasi Dasar"}),a.jsx("p",{className:"mb-6",children:"Sesi untuk mengatur informasi dasar subkontraktor BASTP"}),a.jsx(v,{label:"Nama subkontraktor",invalid:s.nama&&n.nama,errorMessage:s.nama,children:a.jsx(q,{type:"text",autoComplete:"off",name:"nama",placeholder:"Nama",component:F})})]})},{useUniqueId:E}=T,M=z().shape({nama:H().required("Nama wajib diisi")}),P=({onDelete:e})=>{const[n,s]=d.useState(!1),i=()=>{s(!0)},r=()=>{s(!1)},o=()=>{e==null||e(s)};return a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"text-red-600",variant:"plain",size:"sm",icon:a.jsx(I,{}),type:"button",onClick:i,children:"Hapus"}),a.jsx(B,{isOpen:n,type:"danger",title:"Hapus subkontraktor",confirmButtonColor:"red-600",onClose:r,onRequestClose:r,onCancel:r,onConfirm:o,children:a.jsx("p",{children:"Apakah Anda yakin ingin menghapus subkontraktor ini?"})})]})},J=d.forwardRef((e,n)=>{const{type:s,initialData:i={id:"",nama:""},onFormSubmit:r,onDiscard:o,onDelete:u}=e,p=E("subkontraktor-");return a.jsx(a.Fragment,{children:a.jsx(A,{innerRef:n,initialValues:{...i},validationSchema:M,onSubmit:(l,{setSubmitting:m})=>{const t=N(l);s==="new"&&(t.id=p),r==null||r(t,m)},children:({touched:l,errors:m,isSubmitting:t})=>a.jsx(D,{children:a.jsxs(w,{children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:a.jsx("div",{className:"lg:col-span-2",children:a.jsx($,{touched:l,errors:m})})}),a.jsxs(R,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsx("div",{children:s==="edit"&&a.jsx(P,{onDelete:u})}),a.jsxs("div",{className:"md:flex items-center",children:[a.jsx(c,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:()=>o==null?void 0:o(),children:"Batal"}),a.jsx(c,{size:"sm",variant:"solid",loading:t,icon:a.jsx(U,{}),type:"submit",children:"Simpan"})]})]})]})})})})});J.displayName="SubkontraktorForm";export{J as S};
